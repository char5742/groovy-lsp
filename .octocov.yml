# .octocov.yml â€” Groovy LSP

# --------------------------------------------------
# åŸºæœ¬è¨­å®š
# --------------------------------------------------
repository: ${GITHUB_REPOSITORY}   # æ˜ç¤ºã™ã‚‹ã¨ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œã§ã‚‚å®‰å¿ƒ
timeout:   2m                      # å¤§ãã‚ã«ç¢ºä¿ï¼ˆæ—¢å®š 30sï¼‰

# --------------------------------------------------
# Code Coverage
# --------------------------------------------------
coverage:
  # Jacoco ãƒ«ãƒ¼ãƒˆãƒ¬ãƒãƒ¼ãƒˆ
  paths:
    - build/reports/jacoco/jacocoRootReport/jacocoRootReport.xml

  # é™¤å¤–ãƒ‘ã‚¿ãƒ¼ãƒ³
  exclude:
    - "**/test/**"
    - "**/tests/**"
    - "**/benchmarks/**"
    - "**/vscode-extension/**"
    - "**/*Test.java"
    - "**/*Spec.groovy"
    - "**/generated/**"
    - "**/Main.java"
    - "**/Launcher*"
    - "**/Module*"
    - "**/Constants*"

  # ãƒãƒƒã‚¸
  badge:
    path: docs/coverage.svg

  # æœ€ä½è¨±å®¹å€¤ï¼ˆä¾‹ï¼š80% æœªæº€ãªã‚‰ CI è½ã¨ã™ï¼‰
  acceptable: 80%

# --------------------------------------------------
# Code â‡„ Test Ratio
# --------------------------------------------------
codeToTestRatio:
  code:
    - "packages/**/src/main/**/*.java"
    - "packages/**/src/main/**/*.groovy"
    - "!packages/integration-tests/**"
    - "!packages/benchmarks/**"
    - "!packages/vscode-extension/**"
  test:
    - "packages/**/src/test/**/*.java"
    - "packages/**/src/test/**/*.groovy"
    - "packages/integration-tests/**/*.java"
    - "packages/integration-tests/**/*.groovy"
  badge:
    path: docs/ratio.svg
  # acceptable: 1:1.2          # å¿…è¦ãªã‚‰è§£æ”¾

# --------------------------------------------------
# Test Execution Time
# --------------------------------------------------
testExecutionTime: {}             # GA ä¸Šã§ã¯è‡ªå‹•è¨ˆæ¸¬ã•ã‚Œã‚‹

# --------------------------------------------------
# Pull Request Comment
# --------------------------------------------------
comment:
  if: is_pull_request
  deletePrevious: true
  hideFooterLink: false
  # message: "ğŸ‘€ ãƒ†ã‚¹ãƒˆé€šã‚Šã¾ã—ãŸï¼"  # è¿½è¨˜ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¾‹

# --------------------------------------------------
# éå»ãƒ¬ãƒãƒ¼ãƒˆä¿å­˜ & å·®åˆ†æ¯”è¼ƒ
# --------------------------------------------------
report:
  if: is_default_branch
  datastores:
    - artifact://${GITHUB_REPOSITORY}

diff:
  datastores:
    - artifact://${GITHUB_REPOSITORY}

# --------------------------------------------------
# Job Summary å‡ºåŠ›
# --------------------------------------------------
summary: {}

# --------------------------------------------------
# ãƒãƒƒã‚¸è‡ªå‹• pushï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ–ãƒ©ãƒ³ãƒã®ã¿ï¼‰
# --------------------------------------------------
push:
  if: is_default_branch
  # message: "Update badges by octocov [skip ci]"
